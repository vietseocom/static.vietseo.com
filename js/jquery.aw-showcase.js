!function(t){t.fn.awShowcase=function(e){function n(i){var n=t(document.createElement("div")).attr("Id","showcase-content-"+i).css("overflow","hidden").css("position","absolute").addClass("showcase-content").html(E[i]);return e.viewline||n.css("width",e.content_width),e.fit_to_parent&&!e.viewline&&n.css("left",I/2-e.content_width/2),n}function s(){var t=parseInt(m)+1;t===j&&e.continuous?t=0:t!==j||e.continuous||(_=!0,clearInterval(b)),_||a(t,"next")}function a(i,s){if(m!==i&&!y){var d,l,p,f=0,_=e.fit_to_parent?I/2-e.content_width/2:0;if(i>m&&"previous"!==s||"next"===s)if(e.viewline){if(j-1>m){for(e.speed_change||(y=!0),u(),e.pauseonover&&window.clearInterval(b),z=0,p=m+1,len=j;p<len;++p)d=G[p],z+=d.find(".showcase-content").children().width();z>I?(C=k,k-=G[m].find(".showcase-content").children().width()):$(".showcase-arrow-next").is(":visible")&&(C=k,k=-(x-(z+(I-z))),$(".showcase-arrow-next").fadeOut(300)),F.animate({left:k+"px"},e.transition_speed,function(){y=!1}),$(".showcase-arrow-next").is(":visible")&&m++,$(".showcase-arrow-previous").fadeIn(300)}}else e.speed_change||(y=!0),d=t(g).find("#showcase-content-"+parseInt(m)),l=n(i),F.append(l),e.dynamic_height?l.css("height",l.find(".showcase-content").children().height()):l.css("height",e.content_height),d.find(".showcase-content").children().height()>l.find(".showcase-content").children().height()&&e.dynamic_height&&(F.stop(!0,!0).animate({height:l.find(".showcase-content").children().height()},200),f=100),"hslide"===e.transition?t(d).delay(f).animate({left:-e.content_width},e.transition_speed+e.transition_delay,function(){d.remove()}):"vslide"===e.transition?t(d).delay(f).animate({top:-e.content_height},e.transition_speed+e.transition_delay,function(){d.remove()}):t(d).delay(f).fadeOut(e.transition_speed,function(){d.remove()}),h(d,!0),r(d,!0),"hslide"===e.transition?(l.css("left",I),t(l).delay(f).animate({left:_},e.transition_speed,function(){h(l),r(l),o(l)})):"vslide"===e.transition?(l.css("top",g.height()),t(l).delay(f).animate({top:"0px"},e.transition_speed,function(){h(l),r(l),o(l)})):(l.css("left",_),l.css("display","none"),t(l).delay(f).fadeIn(e.transition_speed,function(){h(l),r(l),o(l)}));else(m>i||"previous"===s)&&(e.viewline?(0!==m&&(e.speed_change||(y=!0),u(),e.pauseonover&&window.clearInterval(b),F.animate({left:C+"px"},e.transition_speed,function(){y=!1}),k=C,m--,0===m&&$(".showcase-arrow-previous").fadeOut(300),old_id=m-1,sub_width=t(G[old_id]).width(),C+=sub_width),$(".showcase-arrow-next").fadeIn(300)):(e.speed_change||(y=!0),d=t(g).find("#showcase-content-"+parseInt(m)),l=n(i),F.append(l),e.dynamic_height?l.css("height",l.find(".showcase-content").children().height()):l.css("height",e.content_height),d.find(".showcase-content").children().height()>l.find(".showcase-content").children().height()&&e.dynamic_height&&(F.stop(!0,!0).animate({height:l.find(".showcase-content").children().height()},200),f=100),"hslide"===e.transition?t(d).delay(f).animate({left:I+"px"},e.transition_speed+e.transition_delay,function(){h(d,!0),r(d,!0),d.remove()}):"vslide"===e.transition?t(d).delay(f).animate({top:e.content_height+"px"},e.transition_speed+e.transition_delay,function(){h(d,!0),r(d,!0),d.remove()}):t(d).delay(f).fadeOut(e.transition_speed,function(){h(d,!0),r(d,!0),d.remove()}),"hslide"===e.transition?(l.css("left","-"+e.content_width+"px"),t(l).delay(f).animate({left:_},e.transition_speed,function(){h(l),r(l),o(l)})):"vslide"===e.transition?(l.css("top","-"+g.height()+"px"),t(l).delay(f).animate({top:"0px"},e.transition_speed,function(){h(l),r(l),o(l)})):(l.css("left",_),l.css("display","none"),t(l).delay(f).fadeIn(e.transition_speed,function(){h(l),r(l),o(l)})),F.append(l)));e.viewline||(w=m,m=i,e.thumbnails&&(m>w&&"previous"!==s||"next"===s?c("forward",!0):(w>m||"previous"===s)&&c("backward",!0)),e.arrows&&(t(g).find(".showcase-arrow-previous").unbind("click").click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),a(0===m?j-1:parseInt(m)-1,"previous")}),t(g).find(".showcase-arrow-next").unbind("click").click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),a(m===j-1?0:parseInt(m)+1,"next")})),e.thumbnails&&(p=0,g.find(".showcase-thumbnail").each(function(){var e=t(this);e.removeClass("active"),p===m&&e.addClass("active"),p++})),"show"===e.show_caption&&t(l).find(".showcase-caption").show()),e.buttons&&(p=0,g.find(".showcase-button-wrapper span").each(function(){var e=t(this);e.removeClass("active"),p===m&&e.addClass("active"),p++})),"function"==typeof e.custom_function&&e.custom_function()}}function o(t){e.dynamic_height&&F.stop(!0,!0).animate({height:t.find(".showcase-content").children().height()},200),y=!1}function c(i,n,s){var a=!0,o=l(t(B).find(".showcase-thumbnail"));"horizontal"===e.thumbnails_direction&&(o=p(t(B).find(".showcase-thumbnail")));var c=1;if(0===e.thumbnails_slidex&&(e.thumbnails_slidex=T),n){for(var r=S,h=0;0>r;)r+="horizontal"===e.thumbnails_direction?p(t(O[0])):l(t(O[0])),h++;var d=h,u=T+h-1;m>=d&&u>=m&&(a=!1);var f;if(m-u>e.thumbnails_slidex)for(f=m-u;f>e.thumbnails_slidex;)f-=e.thumbnails_slidex,c++;else if(d-m>e.thumbnails_slidex)for(f=d-m;f>e.thumbnails_slidex;)f-=e.thumbnails_slidex,c++;else c=1}"forward"===i&&a?("vertical"===e.thumbnails_direction&&e.content_height<P+S?S-=o*(e.thumbnails_slidex*c):"horizontal"===e.thumbnails_direction&&e.content_width<P+S?S-=o*(e.thumbnails_slidex*c):0===m&&(s||(S=0)),"horizontal"===e.thumbnails_direction?B.animate({left:S},300):B.animate({top:S},300)):a&&(0>S?S+=o*(e.thumbnails_slidex*c):m===j-1?s||(S-=o*(e.thumbnails_slidex*c)):S=0,"horizontal"===e.thumbnails_direction?B.animate({left:S},300):B.animate({top:S},300))}function r(i,n){var s=i.find(".showcase-caption");n?s.stop(!0,!0).fadeOut(300):"onload"===e.show_caption?s.fadeIn(300):"onhover"===e.show_caption&&(t(i).mouseenter(function(){s.fadeIn(300)}),t(i).mouseleave(function(){s.stop(!0,!0).fadeOut(100)}))}function h(i,n){i.find(".showcase-tooltips a").each(function(){if(n)t(this).stop(!0,!0).fadeOut(300);else{var s=t(this).attr("coords");s=s.split(","),t(this).addClass("showcase-plus-anchor"),t(this).css("position","absolute"),t(this).css("display","none"),t(this).css("width",e.tooltip_icon_width),t(this).css("height",e.tooltip_icon_height),t(this).css("left",parseInt(s[0])-parseInt(e.tooltip_icon_width)/2),t(this).css("top",parseInt(s[1])-parseInt(e.tooltip_icon_height)/2);var a=t(this).html();t(this).mouseenter(function(){d(i,s[0],s[1],a)}),t(this).mouseleave(function(){d(i,s[0],s[1],a)}),t(this).html(""),t(this).fadeIn(300)}})}function d(i,n,s,a){if(null===U){U=t(document.createElement("div")).addClass("showcase-tooltip").css("display","none").css("position","absolute").css("max-width",e.tooltip_width).html(a),i.append(U);var o=2*parseInt(U.css("padding-right"))+2*parseInt(U.css("border-right-width")),c=2*parseInt(U.css("padding-bottom"))+2*parseInt(U.css("border-bottom-width"));lastx=parseInt(n)+U.width()+o,lasty=parseInt(s)+U.height()+c,lastx<e.content_width?U.css("left",parseInt(n)+parseInt(e.tooltip_offsetx)):U.css("left",parseInt(n)-parseInt(e.tooltip_offsetx)-(parseInt(U.width())+parseInt(e.tooltip_offsetx))),lasty<e.content_height?U.css("top",parseInt(s)+parseInt(e.tooltip_offsety)):U.css("top",parseInt(s)-parseInt(e.tooltip_offsety)-(parseInt(U.height())+parseInt(c))),U.fadeIn(400)}else U.fadeOut(400),U.remove(),U=null}function l(e,i,n,s,a){i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,s="undefined"!=typeof s?s:!0,a="undefined"!=typeof a?a:!0;var o=i?t(e).height():0,c=0;return n&&("auto"!==t(e).css("margin-left")&&(c=parseFloat(t(e).css("margin-left"))),"auto"!==t(e).css("margin-right")&&(c+=parseFloat(t(e).css("margin-right")))),elPadding=0,s&&("auto"!==t(e).css("padding-left")&&(elPadding=parseFloat(t(e).css("padding-left"))),"auto"!==t(e).css("padding-right")&&(elPadding+=parseFloat(t(e).css("padding-right")))),elBorder=0,a&&("auto"!==t(e).css("border-left-width")&&(elBorder=parseFloat(t(e).css("border-left-width"))),"auto"!==t(e).css("border-right-width")&&(elBorder+=parseFloat(t(e).css("border-right-width")))),o+=c+elPadding+elBorder}function p(e,i,n,s,a){i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,s="undefined"!=typeof s?s:!0,a="undefined"!=typeof a?a:!0;var o=i?t(e).width():0,c=0;return n&&("auto"!==t(e).css("margin-left")&&(c=parseFloat(t(e).css("margin-left"))),"auto"!==t(e).css("margin-right")&&(c+=parseFloat(t(e).css("margin-right")))),elPadding=0,s&&("auto"!==t(e).css("padding-left")&&(elPadding=parseFloat(t(e).css("padding-left"))),"auto"!==t(e).css("padding-right")&&(elPadding+=parseFloat(t(e).css("padding-right")))),elBorder=0,a&&("auto"!==t(e).css("border-left-width")&&(elBorder=parseFloat(t(e).css("border-left-width"))),"auto"!==t(e).css("border-right-width")&&(elBorder+=parseFloat(t(e).css("border-right-width")))),o+=c+elPadding+elBorder}function u(){x=0,F.children("div").each(function(){x+=$(this).find(".showcase-content").children().width(),G.push($(this))})}var f={content_width:1e3,content_height:270,fit_to_parent:!1,auto:!1,interval:3e3,continuous:!1,loading:!0,tooltip_width:200,tooltip_icon_width:32,tooltip_icon_height:32,tooltip_offsetx:18,tooltip_offsety:0,arrows:!0,buttons:!0,btn_numbers:!1,keybord_keys:!1,mousetrace:!1,pauseonover:!0,stoponclick:!0,transition:"fade",transition_delay:300,transition_speed:500,show_caption:"onload",thumbnails:!1,thumbnails_position:"outside-last",thumbnails_direction:"vertical",thumbnails_slidex:0,dynamic_height:!1,speed_change:!1,viewline:!1,fullscreen_width_x:15,custom_function:null};e=t.extend(f,e);var m=0,w=0,_=!1,v=!1,b=null,g=t(this),I=e.content_width,y=!1,x=1e4,k=0,C=0,z=0,F=t(document.createElement("div")).css("overflow","hidden").css("position","relative").addClass("showcase-content-container").prependTo(g);e.fit_to_parent&&(I=t(g).width()+e.fullscreen_width_x),e.viewline&&(e.thumbnails=!1,e.dynamic_height=!1,F.css("width",x),g.css("overflow","hidden"),$(".showcase-arrow-previous").hide());var E=[],O=[],j=0;g.children(".showcase-slide").each(function(){var i=t(this);if(j++,e.thumbnails){var s=i.find(".showcase-thumbnail");O.push(s),s.remove()}var a=i.find(".showcase-content").children().width(),o=i.find(".showcase-content").children().height();E.push(i.html()),i.remove();var c=n(j-1);(e.viewline||1===j)&&F.append(c),e.viewline&&(c.css("position","relative"),c.css("float","left"),c.css("width",a)),e.dynamic_height?(c.css("height",o),1===j&&F.css("height",o)):(c.css("height",e.content_height),1===j&&F.css("height",e.content_height)),(e.viewline||1===j)&&(h(c),r(c),"show"===e.show_caption&&t(c).find(".showcase-caption").show())});var B,P=0,T=0;if(e.thumbnails){for(thumb_container=t("<div />"),thumb_restriction=t("<div />"),B=t("<div />"),i=O.length-1;i>=0;--i){var X=t(O[i]).css({overflow:"hidden"});X.attr("Id","showcase-thumbnail-"+i),X.addClass(0===i?"active":""),X.click(function(t,e){return function(){b&&(v=!0,clearInterval(b)),a(t,e)}}(i,"")),B.prepend(X)}"outside-first"===e.thumbnails_position||"outside-last"===e.thumbnails_position?("horizontal"!==e.thumbnails_direction?(F.css("float","left"),F.css("width",e.content_width),thumb_container.css("float","left"),thumb_container.css("height",e.content_height)):t(B).find(".showcase-thumbnail").css("float","left"),"outside-last"===e.thumbnails_position?(g.append(thumb_container),"horizontal"!==e.thumbnails_direction&&g.append(t("<div />").addClass("clear"))):(g.prepend(thumb_container),"horizontal"!==e.thumbnails_direction&&g.append(t("<div />").addClass("clear")))):(thumb_container.css({position:"absolute","z-index":20}),"horizontal"===e.thumbnails_direction?(thumb_container.css({left:0,right:0}),t(B).find(".showcase-thumbnail").css("float","left"),t(B).append(t("<div />").addClass("clear")),"inside-first"===e.thumbnails_position?thumb_container.css("top",0):thumb_container.css("bottom",0)):(thumb_container.css({top:0,bottom:0}),"inside-first"===e.thumbnails_position?thumb_container.css("left",0):thumb_container.css("right",0)),F.prepend(thumb_container)),thumb_container.addClass("showcase-thumbnail-container"),thumb_container.css("overflow","hidden"),thumb_restriction.addClass("showcase-thumbnail-restriction"),thumb_restriction.css({overflow:"hidden",position:"relative"}),"horizontal"===e.thumbnails_direction&&thumb_restriction.css({"float":"left"}),B.addClass("showcase-thumbnail-wrapper"),"horizontal"===e.thumbnails_direction?B.addClass("showcase-thumbnail-wrapper-horizontal"):B.addClass("showcase-thumbnail-wrapper-vertical"),B.css("position","relative"),thumb_restriction.append(B),thumb_container.append(thumb_restriction);var Y=t('<div class="showcase-thumbnail-button-backward" />');"horizontal"!==e.thumbnails_direction?Y.html('<span class="showcase-thumbnail-vertical"><span>Up</span></span>'):(Y.css({"float":"left"}),Y.html('<span class="showcase-thumbnail-horizontal"><span>Left</span></span>')),Y.click(function(){c("backward",!1,!0)}),thumb_container.prepend(Y);var D=t('<div class="showcase-thumbnail-button-forward" />');"horizontal"!==e.thumbnails_direction?D.html('<span class="showcase-thumbnail-vertical"><span>Down</span></span>'):(D.css({"float":"left"}),D.html('<span class="showcase-thumbnail-horizontal"><span>Right</span></span>')),D.click(function(){c("forward",!1,!0)}),thumb_container.append(D);var L=0;if("horizontal"!==e.thumbnails_direction)for(L=l(B,!1),L+=l(Y)+l(D);L<e.content_height;)L+=l(t(O[0])),T++;else for(L=p(B,!1),L+=p(Y)+p(D);I>L;)L+=p(t(O[0])),T++;if(T+1>O.length&&("horizontal"!==e.thumbnails_direction?thumb_restriction.css("margin-top",l(Y)):thumb_restriction.css("margin-left",p(Y)),Y.hide(),D.hide()),"horizontal"!==e.thumbnails_direction){var Q=l(Y)+l(D);thumb_restriction.css("height",e.content_height-Q)}else{var R=p(Y)+p(D);thumb_restriction.css("width",I-R)}"horizontal"===e.thumbnails_direction?(t(".showcase-thumbnail").each(function(){P+=p(t(this))}),B.css("width",P)):t(".showcase-thumbnail").each(function(){P+=l(t(this))})}if(e.thumbnails&&-1!==e.thumbnails_position.indexOf("outside")&&"horizontal"!==e.thumbnails_direction&&!e.viewline?g.css("width",I+p(B,!0,!1)):e.fit_to_parent||g.css("width",I),j>1&&e.auto&&(b=window.setInterval(s,e.interval)),e.auto&&e.pauseonover&&(g.mouseenter(function(){_=!0,clearInterval(b)}),g.mouseleave(function(){v||(_=!1,b=window.setInterval(s,e.interval))})),e.arrows&&j>1&&(t(document.createElement("div")).addClass("showcase-arrow-previous").prependTo(g).click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),a(0===m?j-1:parseInt(m)-1,"previous")}),t(document.createElement("div")).addClass("showcase-arrow-next").prependTo(g).click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),a(m+1,"next")}),e.viewline&&$(".showcase-arrow-previous").hide()),e.buttons&&j>1)for(t(document.createElement("div")).css("clear","both").addClass("showcase-button-wrapper").appendTo(g),i=0;i<j;)t(document.createElement("span")).attr("Id","showcase-navigation-button-"+i).addClass(0===i?"active":"").html(e.btn_numbers?parseInt(i)+1:"&#9679;").click(function(t,i){return function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),a(t,i)}}(i,"")).appendTo(t(g).find(".showcase-button-wrapper")),i++;e.keybord_keys&&t(document).keydown(function(t){e.stoponclick&&(v=!0),b&&clearInterval(b),37===t.keyCode&&a(0===m?j-1:parseInt(m)-1,"previous"),39===t.keyCode&&a(m===j-1?0:parseInt(m)+1,"next")});var S=0,U=null;if(e.mousetrace){var q=t(document.createElement("div")).css("position","absolute").css("top","0").css("background-color","#fff").css("color","#000").css("padding","3px 5px").css("x-index","30").html("X: 0 Y: 0");g.append(q);var A=g.offset();F.mousemove(function(t){q.html("X: "+(t.pageX-A.left)+" Y: "+(t.pageY-A.top))})}$("#awOnePageButton").click(function(){if($(".view-page").is(":visible")){var i=t(document.createElement("div"));i.addClass("showcase-onepage"),g.before(i),b&&(v=!0,clearInterval(b)),$(this).find(".view-page").hide(),$(this).find(".view-slide").show(),g.hide(),$.each(E,function(t){obj=n(t),obj.css("position","relative"),i.append(obj),h(obj),r(obj),e.dynamic_height?obj.css("height",obj.find(".showcase-content").children().height()):obj.css("height",e.content_height)});var s=t(document.createElement("div"));s.addClass("clear"),i.append(s)}else $(".showcase-onepage").remove(),$(this).find(".view-page").show(),$(this).find(".view-slide").hide(),g.show();return!1});var G=[];g.removeClass("showcase-load")}}(jQuery);